<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Alpha</title>
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css'>
	<link rel="stylesheet" href="./style.css">

</head>

<body>

	<h2></h2>
	<div class="container" id="container">
		<div class="form-container sign-up-container">
			<form action="#">
				<h1>Create Account</h1>
				<div class="social-container">
					<a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
					<a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
					<a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
				</div>
				<span>or use your email for registration</span>
				<input type="email" id="email" placeholder="Email" />
				<input type="password" id="password" placeholder="Password" />
				<button id="register">Sign Up</button>
			</form>
		</div>
		<div class="form-container sign-in-container">
			<form action="#">
				<h1>Sign in</h1>
				<div class="social-container">
					<a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
					<a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
					<a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
				</div>
				<span>or use your account</span>
				<input type="email" id="login_email" placeholder="Email" />
				<input type="password" id="login_password" placeholder="Password" />
				<a href="#"></a>
				<button id="login">Sign In</button>
			</form>
		</div>
		<div class="overlay-container">
			<div class="overlay">
				<div class="overlay-panel overlay-left">
					<h1>Welcome Back!</h1>
					<p>To keep connected with us please login with your personal info</p>
					<button class="ghost" id="signIn">Sign In</button>
				</div>
				<div class="overlay-panel overlay-right">
					<h1>Hello, Friend!</h1>
					<p>Enter your personal details and start journey with us</p>
					<button class="ghost" id="signUp">Sign Up</button>
				</div>
			</div>
		</div>
	</div>
	<script src="./script.js"></script>

</body>

<script type="module">


// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
	apiKey: "AIzaSyC6K6eUdBI-KawvGh8rH-49Hq2t9HP9Qpc",
	authDomain: "alpha-f608f.firebaseapp.com",
	projectId: "alpha-f608f",
	storageBucket: "alpha-f608f.appspot.com",
	messagingSenderId: "135060206241",
	appId: "1:135060206241:web:20a299c7520a4b2358b6e0",
	measurementId: "G-R3EGMB2RTC"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth();


//----- New Registration code start	  
document.getElementById("register").addEventListener("click", function () {
	var email = document.getElementById("email").value;
	var password = document.getElementById("password").value;
	//For new registration
	createUserWithEmailAndPassword(auth, email, password)
		.then((userCredential) => {
			// Signed in 
			const user = userCredential.user;
			console.log(user);
			alert("Registration successfully!!");
			// ...
		})
		.catch((error) => {
			const errorCode = error.code;
			const errorMessage = error.message;
			// ..
			console.log(errorMessage);
			alert(error);
		});
});
//----- End

//----- Login code start	  
document.getElementById("login").addEventListener("click", function () {
	var email = document.getElementById("login_email").value;
	var password = document.getElementById("login_password").value;

	signInWithEmailAndPassword(auth, email, password)
		.then((userCredential) => {
			// Signed in 
			const user = userCredential.user;
			console.log(user);
			alert(user.email + " Login successfully!!!");
			window.location.href = './second/index.html';
			// document.getElementById('logout').style.display = 'block';
			// ...
		})
		.catch((error) => {
			const errorCode = error.code;
			const errorMessage = error.message;
			console.log(errorMessage);
			alert(errorMessage);
		});
});
//----- End

//----- Logout code start
//   document.getElementById("logout").addEventListener("click", function() {
// 	  signOut(auth).then(() => {
// 		  // Sign-out successful.
// 		  console.log('Sign-out successful.');
// 		  alert('Sign-out successful.');
// 		  document.getElementById('logout').style.display = 'none';
// 		}).catch((error) => {
// 		  // An error happened.
// 		  console.log('An error happened.');
// 		});
//   });
//----- End	
</script>

</html>